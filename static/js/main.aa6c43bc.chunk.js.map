{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Spinner/Spinner.module.css","App.module.css","components/SearchForm/SearchForm.module.css","components/Service-api/service-api.js","components/Container/Container.js","components/SearchForm/SearchForm.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Spinner/Spinner.js","App.js","index.js"],"names":["module","exports","fetchApi","query","page","a","searchParams","URLSearchParams","q","per_page","image_type","orientation","safesearch","url","axios","get","data","Container","children","className","s","container","SearchForm","onSubmit","useState","setQuery","event","preventDefault","trim","toast","error","type","button","buttonLabel","input","value","onChange","currentTarget","toLowerCase","placeholder","Searchbar","propTypes","PropTypes","func","ImageGalleryItem","webformatURL","tags","toggleModal","bigImage","src","alt","image","onClick","ImageGallery","map","el","id","largeImageURL","Button","modalRoot","document","querySelector","Modal","closeModal","modalImage","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","target","img","Spinner","spinner","color","height","width","Status","App","status","setStatus","setPage","imageArr","setImageArr","modalLargeImage","setModalLargeImage","showModal","setShowModal","then","hits","scrollTo","top","documentElement","scrollHeight","behavior","length","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.aa6c43bc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__24LMv\",\"image\":\"ImageGalleryItem_image__ZDGXR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2I0Vw\",\"Modal\":\"Modal_Modal__3GwT8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1CjT6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__265wc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2bvls\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3sZmO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__vt_5N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__w3djH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__1Fyrt\",\"button\":\"SearchForm_button__3monr\",\"buttonLabel\":\"SearchForm_buttonLabel__3K28l\",\"input\":\"SearchForm_input__36rGY\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23103282-e7d496618b624ef4484ab3d5c';\n\nconst fetchApi = async (query, page) => {\n        const searchParams = new URLSearchParams({\n        q: query,\n        page: page,\n        per_page: '12',\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true'\n    })\n    const url = `${BASE_URL}?key=${API_KEY}&${searchParams}`\n    const { data } = await axios.get(url);\n  return data;\n};\n\nexport default fetchApi;\n    \n\n ","import PropTypes from 'prop-types';\nimport s from './Container.module.css'\n\nexport default function Container ({children}){\n    return <div className={s.container}>{children}</div>\n}\nContainer.propTypes = {\n    children: PropTypes.array.isRequired,\n  };","import {useState} from \"react\";\nimport PropTypes from 'prop-types';\nimport { toast } from \"react-toastify\";\nimport s from './SearchForm.module.css'\n\nexport default function SearchForm ({onSubmit}) {\n   const[query, setQuery] = useState('');\n  \n   const handleQueryChange = event => {\n      setQuery(event.currentTarget.value.toLowerCase());\n    };\n   const handleSubmit = event => {\n        event.preventDefault();\n        if(query.trim() === ''){\n        toast.error('Sorry,input field is empty');\n        return;\n        }\n        setQuery('');\n        onSubmit(query)\n    };\n        return(\n            <form onSubmit={handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.buttonLabel}>Search</span>\n          </button>\n          <input\n            className={s.input}\n            value={query}\n            onChange={handleQueryChange}\n            type=\"text\"\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n        )\n}\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func,\n  onChange: PropTypes.string,\n};","import PropTypes from 'prop-types';\nimport s from './Searchbar.module.css'\nimport SearchForm from \"components/SearchForm\";\n\nexport default function Searchbar({onSubmit}){\n    return(\n        <header className={s.Searchbar}>\n            <SearchForm onSubmit={onSubmit}/>\n        </header> \n    )\n}\nSearchForm.propTypes = {\n    onSubmit: PropTypes.func,\n  };","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem ({ webformatURL, tags, toggleModal, bigImage }){\n    return (\n      <li className={s.ImageGalleryItem}>\n        <img\n          src={webformatURL}\n          alt={tags}\n          className={s.image}\n          onClick={() => {\n            toggleModal();\n            bigImage();\n          }}\n        />\n      </li>\n    );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  toggleModal: PropTypes.func,\n  bigImage: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem'\nimport s from './ImageGallery.module.css';\n\nexport default function ImageGallery({ data,toggleModal,bigImage }){\n    return (\n      <ul className={s.ImageGallery}>\n        {data.map(el => (\n          <ImageGalleryItem\n            key={el.id}\n            id={el.id}\n            webformatURL={el.webformatURL}\n            largeImageURL={el.largeImageURL}\n            tags={el.tags}\n            toggleModal={() => toggleModal()}\n            bigImage={() => bigImage(el.id, el.largeImageURL, el.tags)}\n          />\n        ))}\n      </ul>\n    );\n}\n\nImageGallery.propTypes = {\n  query: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      tags: PropTypes.string,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ),\n  bigImage: PropTypes.func,\n  toggleModal: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n    return (\n      <button className={s.Button} type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    );\n}\n  Button.propTypes = {\n    onClick: PropTypes.func.isRequired,\n  };\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal ({closeModal,modalImage}){\n \n  useEffect(()=>{\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  })\n\n  const handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      closeModal();\n    }\n  };\n\n  const backdropClick = event => {\n    if (event.target === event.currentTarget) {\n      closeModal();\n    }\n  };\n\n    return createPortal(\n      <div className={s.Overlay} onClick={backdropClick}>\n        <div className={s.Modal}>\n          <img key={modalImage.id} src={modalImage.img} alt={modalImage.tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n}\n\nModal.propTypes = {\n  closeModal: PropTypes.func,\n  ModalImage: PropTypes.object,\n};\n\n","import Loader from 'react-loader-spinner';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from './Spinner.module.css'\n\nexport default function Spinner() {\n    return (\n        <Loader className={s.spinner} type=\"MutatingDots\" color=\"#5da066\" height={100} width={100} />\n    );\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-self-compare */\nimport { useState,useEffect } from 'react';\nimport { ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.module.css';\n\nimport fetchApi from 'components/Service-api';\nimport Container from 'components/Container';\nimport Searchbar from 'components/Searchbar';\nimport ImageGallery from 'components/ImageGallery';\nimport Button from 'components/Button';\nimport Modal from 'components/Modal';\nimport Spinner from 'components/Spinner';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default function App () {\n  const[status,setStatus] = useState(Status.IDLE);\n  const[query,setQuery] = useState('');\n  const[page,setPage] = useState(1);\n  const[imageArr,setImageArr] = useState([]);\n  const[modalLargeImage, setModalLargeImage] = useState('');\n  const[showModal,setShowModal] = useState(false);\n  \nuseEffect(() => {\n if(!query){\n   return\n }\n    setStatus(Status.PENDING );\n      fetchApi(query, page)\n      .then(data => data.hits)\n      .then(data => {\n        setImageArr([...imageArr,...data]);\n        setStatus(Status.RESOLVED)\n          if(page!==1) {\n            window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          })\n        }\n      });\n},[page,query])\n\nconst handleFormSubmit = query =>{\n  setQuery(query);\n  setPage (1);\n  setImageArr([]);\n};\n\nconst buttonLoadMore = () => {\n    setPage (page + 1);\n    setStatus(Status.PENDING)\n};\n\nconst toggleModal = () => {\n  setShowModal(!showModal)\n};\n\nconst modalImage = (id, img, tags) => {\n  setModalLargeImage({ id: id, img: img, tags: tags })\n};\n\n    return (\n      <Container>\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ImageGallery\n          data={imageArr}\n          toggleModal={toggleModal}\n          bigImage={modalImage}\n        />\n        {status === Status.PENDING && <Spinner />}\n        {imageArr.length > 0 && <Button onClick={buttonLoadMore} />}\n        {showModal && <Modal closeModal={toggleModal} modalImage={modalLargeImage} />}\n        <ToastContainer autoClose={2000}/>\n        </Container>\n    );\n }\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./index.module.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.querySelector('#root'),\n);\n"],"sourceRoot":""}